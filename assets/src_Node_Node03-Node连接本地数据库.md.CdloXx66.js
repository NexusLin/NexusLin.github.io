import{_ as s,c as n,o as a,a4 as p}from"./chunks/framework.ZkTbufXI.js";const e="/images/node3-1.png",l="/images/node3-2.png",o="/images/node3-3.png",i="/images/node3-4.png",t="/images/node3-5.png",c="/images/node3-6.png",r="/images/node3-7.png",d="/images/node3-8.png",k=JSON.parse('{"title":"â¤Node03 Nodeè¿æ¥æœ¬åœ°æ•°æ®åº“","description":"","frontmatter":{},"headers":[],"relativePath":"src/Node/Node03-Nodeè¿æ¥æœ¬åœ°æ•°æ®åº“.md","filePath":"src/Node/Node03-Nodeè¿æ¥æœ¬åœ°æ•°æ®åº“.md"}'),m={name:"src/Node/Node03-Nodeè¿æ¥æœ¬åœ°æ•°æ®åº“.md"},h=p('<h1 id="â¤node03-nodeè¿æ¥æœ¬åœ°æ•°æ®åº“" tabindex="-1">â¤Node03 Nodeè¿æ¥æœ¬åœ°æ•°æ®åº“ <a class="header-anchor" href="#â¤node03-nodeè¿æ¥æœ¬åœ°æ•°æ®åº“" aria-label="Permalink to &quot;â¤Node03 Nodeè¿æ¥æœ¬åœ°æ•°æ®åº“&quot;">â€‹</a></h1><h2 id="_1ã€mysqlå®˜æ–¹ç½‘ç«™ä¸‹è½½å®‰è£…-ç•¥è¿‡-æƒ³çœ‹çš„å¯ä»¥è‡ªå·±æœç´¢æˆ‘çš„æ–‡ç« æŸ¥çœ‹" tabindex="-1">1ã€mysqlå®˜æ–¹ç½‘ç«™ä¸‹è½½å®‰è£…ï¼ˆç•¥è¿‡ï¼Œæƒ³çœ‹çš„å¯ä»¥è‡ªå·±æœç´¢æˆ‘çš„æ–‡ç« æŸ¥çœ‹ï¼‰ <a class="header-anchor" href="#_1ã€mysqlå®˜æ–¹ç½‘ç«™ä¸‹è½½å®‰è£…-ç•¥è¿‡-æƒ³çœ‹çš„å¯ä»¥è‡ªå·±æœç´¢æˆ‘çš„æ–‡ç« æŸ¥çœ‹" aria-label="Permalink to &quot;1ã€mysqlå®˜æ–¹ç½‘ç«™ä¸‹è½½å®‰è£…ï¼ˆç•¥è¿‡ï¼Œæƒ³çœ‹çš„å¯ä»¥è‡ªå·±æœç´¢æˆ‘çš„æ–‡ç« æŸ¥çœ‹ï¼‰&quot;">â€‹</a></h2><p>MySQL å®˜æ–¹ç½‘ç«™ï¼ˆ[http]</p><p>(<a href="https://so.csdn.net/so/search?q=http&amp;spm=1001.2101.3001.7020" target="_blank" rel="noreferrer">https://so.csdn.net/so/search?q=http&amp;spm=1001.2101.3001.7020</a>)ğŸ˜•/<a href="http://www.mysql.xn--com" target="_blank" rel="noreferrer">www.mysql.comï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</a>,-gi1hr84cfxetxxuq6c/)</p><p><img src="'+e+'" alt="image.png"></p><h2 id="_2ã€navicat-for-mysqlå®‰è£…-æ•°æ®åº“ç®¡ç†è½¯ä»¶-ä¸‹è½½å®‰è£…-ç•¥è¿‡-æƒ³çœ‹çš„å¯ä»¥è‡ªå·±æœç´¢æˆ‘çš„æ–‡ç« æŸ¥çœ‹" tabindex="-1">2ã€Navicat for MySQLå®‰è£…ï¼ˆæ•°æ®åº“ç®¡ç†è½¯ä»¶ï¼‰ä¸‹è½½å®‰è£…ï¼ˆç•¥è¿‡ï¼Œæƒ³çœ‹çš„å¯ä»¥è‡ªå·±æœç´¢æˆ‘çš„æ–‡ç« æŸ¥çœ‹ï¼‰ <a class="header-anchor" href="#_2ã€navicat-for-mysqlå®‰è£…-æ•°æ®åº“ç®¡ç†è½¯ä»¶-ä¸‹è½½å®‰è£…-ç•¥è¿‡-æƒ³çœ‹çš„å¯ä»¥è‡ªå·±æœç´¢æˆ‘çš„æ–‡ç« æŸ¥çœ‹" aria-label="Permalink to &quot;2ã€Navicat for MySQLå®‰è£…ï¼ˆæ•°æ®åº“ç®¡ç†è½¯ä»¶ï¼‰ä¸‹è½½å®‰è£…ï¼ˆç•¥è¿‡ï¼Œæƒ³çœ‹çš„å¯ä»¥è‡ªå·±æœç´¢æˆ‘çš„æ–‡ç« æŸ¥çœ‹ï¼‰&quot;">â€‹</a></h2><p>å®˜ç½‘ <a href="https://www.navicat.com.cn/" target="_blank" rel="noreferrer">https://www.navicat.com.cn/</a></p><p>æ–‡ç« åœ¨è¿™éƒ¨åˆ†(é“¾æ¥)</p><p><a href="https://blog.csdn.net/weixin_43615570/article/details/124520999?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522172439477916800188531875%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&amp;request_id=172439477916800188531875&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-2-124520999-null-null.nonecase&amp;utm_term=mysql&amp;spm=1018.2226.3001.4450" target="_blank" rel="noreferrer">Mysql æœ€æ–°ç‰ˆæœ¬8.0.28 windowsç³»ç»Ÿå®‰è£…æ•™ç¨‹_mysqlæœ€æ–°ç‰ˆæœ¬-CSDNåšå®¢</a></p><p>ç›´æ¥å®‰è£…ä½¿ç”¨ è¿æ¥MySqlæ•°æ®åº“ï¼Œç‚¹å‡»æµ‹è¯•è¿æ¥ <img src="'+l+'" alt="image.png"></p><p>å»ºä¸€ä¸ªæ•°æ®åº“è¡¨æ ¼userï¼Œé‡Œé¢åŠ ä¿©æ•°æ®å­—æ®µidå’Œname</p><p><img src="'+o+'" alt="image.png"></p><p>å†™ä¸ªSqlæŸ¥è¯¢æŸ¥è¯¢ä¸€ä¸‹æˆ‘ä»¬çš„ç”¨æˆ·</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>jsSELECT * FROM user</span></span></code></pre></div><p>ç»“æœå¦‚ä¸‹</p><p><img src="'+i+`" alt="image.png"></p><h2 id="_3ã€é¡¹ç›®å®‰è£…mysqlæ•°æ®åº“ä¾èµ–" tabindex="-1">3ã€é¡¹ç›®å®‰è£…MySqlæ•°æ®åº“ä¾èµ– <a class="header-anchor" href="#_3ã€é¡¹ç›®å®‰è£…mysqlæ•°æ®åº“ä¾èµ–" aria-label="Permalink to &quot;3ã€é¡¹ç›®å®‰è£…MySqlæ•°æ®åº“ä¾èµ–&quot;">â€‹</a></h2><p>æˆ‘ä»¬æ­å»ºäº†è‡ªå·±æœ¬åœ°çš„MySQLæ•°æ®åº“ä¹‹åï¼Œç°åœ¨å’±ä»¬å°è¯•å¯åŠ¨nodeè¿æ¥æœ¬åœ°æ­å»ºçš„æ•°æ®åº“ è¿›å…¥æˆ‘ä»¬é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹é¢ å®‰è£…mysqlä¾èµ–</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>jsyarn add mysql</span></span></code></pre></div><h2 id="_4ã€å»ºç«‹app-js" tabindex="-1">4ã€å»ºç«‹app.js <a class="header-anchor" href="#_4ã€å»ºç«‹app-js" aria-label="Permalink to &quot;4ã€å»ºç«‹app.js&quot;">â€‹</a></h2><p>æ ¹ç›®å½•ä¸‹æ–°å»ºapp.jsæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¸‹é¢åŒ…å«ä»¥ä¸‹è¿™äº›ä¿¡æ¯</p><ul><li>createConnectionç”¨äºåˆ›å»ºä¸€ä¸ªæ•°æ®åº“è¿æ¥ï¼Œæ­£ç¡®æ·»åŠ æ•°æ®åº“è®¿é—®åœ°å€hostï¼Œç”¨æˆ·åuserï¼Œå¯†ç passwordå’Œæ‰€éœ€è¦è¿æ¥çš„æ•°æ®åº“çš„åç§°</li><li>connectè¿æ¥æ•°æ®åº“</li><li>endå…³é—­è¿æ¥ å¦‚æœä¸çŸ¥é“æ•°æ®åº“çš„ä¿¡æ¯åœ¨å“ªé‡Œæ‰¾å¯å‚è€ƒä¸‹å›¾ï¼Œæ•°æ®åº“-æ•°æ®åº“è¿æ¥</li></ul><h2 id="_5ã€è¿æ¥æ•°æ®åº“" tabindex="-1">5ã€è¿æ¥æ•°æ®åº“ <a class="header-anchor" href="#_5ã€è¿æ¥æ•°æ®åº“" aria-label="Permalink to &quot;5ã€è¿æ¥æ•°æ®åº“&quot;">â€‹</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>jsimport mysql from &#39;mysql&#39; // å¯¼å…¥ mysql</span></span>
<span class="line"><span>// const mysql = require(&#39;mysql&#39;);</span></span>
<span class="line"><span>// var mysql = require(&#39;mysql&#39;)</span></span>
<span class="line"><span>var connection = mysql.createConnection({</span></span>
<span class="line"><span>  host: &#39;localhost&#39;, // æ•°æ®åº“ä¸»æœºåœ°å€ï¼Œå¦‚æœæ˜¯æœ¬åœ°æ•°æ®åº“åˆ™ä½¿ç”¨localhost</span></span>
<span class="line"><span>  user: &#39;root&#39;, // æ•°æ®åº“ç”¨æˆ·å</span></span>
<span class="line"><span>  password: &#39;xxxxxx&#39;, // æ•°æ®åº“å¯†ç </span></span>
<span class="line"><span>  database: &#39;nexus&#39; // è¦è¿æ¥çš„æ•°æ®åº“å</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>connection.connect();</span></span>
<span class="line"><span>// æŸ¥è¯¢</span></span>
<span class="line"><span>connection.query(&#39;SELECT * FROM user&#39;, function (err, rows, fields) {</span></span>
<span class="line"><span>  console.log(&#39;user: &#39;, rows);</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>connection.end()</span></span></code></pre></div><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å»æˆ‘ä»¬çš„æ ¹ç›®å½•ä¸‹è¿›è¡Œè¿è¡Œ <code>node app.js</code>å‘ç°æŠ¥é”™ç»“æœå¦‚ä¸‹</p><p><img src="`+t+`" alt="image.png"></p><p>å¤§è‡´æ„æ€å°±æ˜¯æˆ‘ä»¬çš„import æ–¹å¼ä¸æ”¯æŒï¼Œæ—¥å¸¸æˆ‘ä»¬å¯¼å…¥æ–¹å¼ä¼šæœ‰ä»¥ä¸‹ä¸¤ç§</p><p><code>tips</code></p><ul><li>CommonJS çš„å†™æ³•</li><li>ES module çš„å†™æ³•</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>js</span></span>
<span class="line"><span>// ä½¿ç”¨ CommonJS çš„å†™æ³•</span></span>
<span class="line"><span>const fs = require(&#39;fs&#39;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// ä½¿ç”¨ ES module çš„å†™æ³•</span></span>
<span class="line"><span>import fs from &#39;fs&#39;;</span></span></code></pre></div><p>æŸ¥è¯¢æ›´æ”¹ä¸º</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>jsimport mysql from &#39;mysql&#39; // å¯¼å…¥ mysql</span></span>
<span class="line"><span>// const mysql = require(&#39;mysql&#39;);</span></span>
<span class="line"><span>// var mysql = require(&#39;mysql&#39;)</span></span>
<span class="line"><span>var con = mysql.createConnection({</span></span>
<span class="line"><span>  host: &#39;localhost&#39;, // æ•°æ®åº“ä¸»æœºåœ°å€ï¼Œå¦‚æœæ˜¯æœ¬åœ°æ•°æ®åº“åˆ™ä½¿ç”¨localhost</span></span>
<span class="line"><span>  user: &#39;root&#39;, // æ•°æ®åº“ç”¨æˆ·å</span></span>
<span class="line"><span>  password: &#39;123456&#39;, // æ•°æ®åº“å¯†ç </span></span>
<span class="line"><span>  database: &#39;nexus&#39; // è¦è¿æ¥çš„æ•°æ®åº“å</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// è¿æ¥åˆ°æ•°æ®åº“</span></span>
<span class="line"><span>con.connect();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// æŸ¥è¯¢</span></span>
<span class="line"><span>con.query(&#39;SELECT * FROM user&#39;, function (err, rows, fields) {</span></span>
<span class="line"><span>  console.log(&#39;è¿æ¥æ•°æ®åº“&#39;);</span></span>
<span class="line"><span>  console.log(&#39;user-err: &#39;, err);</span></span>
<span class="line"><span>  console.log(&#39;user-rows: &#39;, rows[0].solution);</span></span>
<span class="line"><span>  console.log(&#39;user-fields: &#39;, fields);</span></span>
<span class="line"><span>  if (err) throw err;</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>con.end();</span></span>
<span class="line"><span>console.log(&quot;MySQLæ–­å¼€!&quot;);</span></span></code></pre></div><p>æœ€åè·å¾—æŸ¥è¯¢è®°å½•ï¼š</p><p><img src="`+c+`" alt="image.png"></p><h2 id="_6ã€ä½¿ç”¨expresså®šä¹‰è¿æ¥æ•°æ®åº“çš„æ¥å£" tabindex="-1">6ã€ä½¿ç”¨Expresså®šä¹‰è¿æ¥æ•°æ®åº“çš„æ¥å£ <a class="header-anchor" href="#_6ã€ä½¿ç”¨expresså®šä¹‰è¿æ¥æ•°æ®åº“çš„æ¥å£" aria-label="Permalink to &quot;6ã€ä½¿ç”¨Expresså®šä¹‰è¿æ¥æ•°æ®åº“çš„æ¥å£&quot;">â€‹</a></h2><p>Expressä½œç”¨ ä½¿ç”¨ Expressï¼Œæˆ‘ä»¬å¯ä»¥<strong>æ–¹ä¾¿ã€å¿«é€Ÿçš„åˆ›å»º Web ç½‘ç«™çš„æœåŠ¡å™¨æˆ– API æ¥å£çš„æœåŠ¡å™¨</strong> ç®€å•æ¦‚æ‹¬ä¸€ä¸‹å°±æ˜¯ï¼šExpressæ‹¿æ¥å†™è¿æ¥æ•°æ®åº“çš„æ¥å£</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>jsimport mysql from &#39;mysql&#39; // å¯¼å…¥ mysql</span></span>
<span class="line"><span>import express from &#39;express&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// åˆ›å»ºæ•°æ®åº“è¿æ¥</span></span>
<span class="line"><span>const connection = mysql.createConnection({</span></span>
<span class="line"><span>  host: &#39;localhost&#39;, // æ•°æ®åº“ä¸»æœºåœ°å€ï¼Œå¦‚æœæ˜¯æœ¬åœ°æ•°æ®åº“åˆ™ä½¿ç”¨localhost</span></span>
<span class="line"><span>  user: &#39;root&#39;, // æ•°æ®åº“ç”¨æˆ·å</span></span>
<span class="line"><span>  password: &#39;123456&#39;, // æ•°æ®åº“å¯†ç </span></span>
<span class="line"><span>  database: &#39;nexus&#39; // è¦è¿æ¥çš„æ•°æ®åº“å</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// è¿æ¥æ•°æ®åº“</span></span>
<span class="line"><span>connection.connect((err) =&gt; {</span></span>
<span class="line"><span>  if (err) {</span></span>
<span class="line"><span>    console.error(&#39;Error connecting to database:&#39;, err);</span></span>
<span class="line"><span>    return;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  console.log(&#39;Connected to database!&#39;);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const app = express();</span></span>
<span class="line"><span>// åˆ›å»ºè·¯ç”±</span></span>
<span class="line"><span>app.get(&#39;/api/user/list&#39;, (req, res) =&gt; {</span></span>
<span class="line"><span>  // æŸ¥è¯¢æ•°æ®åº“å¹¶è¿”å›æ•°æ®</span></span>
<span class="line"><span>  connection.query(&#39;SELECT * FROM user&#39;, (err, results) =&gt; {</span></span>
<span class="line"><span>    console.log(err,&#39;err&#39;);</span></span>
<span class="line"><span>    console.log(results,&#39;results&#39;);</span></span>
<span class="line"><span>    if (err) {</span></span>
<span class="line"><span>      console.error(&#39;Error querying database:&#39;, err);</span></span>
<span class="line"><span>      res.status(500).json({ error: &#39;Internal server error&#39; });</span></span>
<span class="line"><span>      return;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    res.json({</span></span>
<span class="line"><span>      code:&#39;200&#39;,</span></span>
<span class="line"><span>      data:results,</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// å¯åŠ¨æœåŠ¡å™¨</span></span>
<span class="line"><span>const PORT = 8888;</span></span>
<span class="line"><span>app.listen(PORT, () =&gt; {</span></span>
<span class="line"><span>  console.log(\`Server is running on http://localhost:\${PORT}\`);</span></span>
<span class="line"><span>});</span></span></code></pre></div><p>å¯åŠ¨æœåŠ¡å™¨ åœ°å€æ è¾“å…¥<code>http://localhost:8888/api/user/list </code>è®¿é—®ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå·²ç»æˆåŠŸè®¿é—®åˆ°äº†æˆ‘ä»¬çš„æ•°æ®åº“ï¼ æ•°æ®åº“æŸ¥è¯¢å‡ºæ¥çš„ï¼š</p><p><img src="`+r+'" alt="image.png"></p><p>åœ°å€æ è¿æ¥æŸ¥è¯¢åˆ°çš„ï¼š <img src="'+d+'" alt="image.png"></p><p>åˆ°è¿™é‡Œæˆ‘ä»¬å·²ç»æŒæ¡äº†å¦‚ä½•ä½¿ç”¨Nodeè¿æ¥æ•°æ®åº“å¹¶æŸ¥è¯¢æ•°æ®ï¼</p>',41),g=[h];function u(_,q,b,y,f,v){return a(),n("div",null,g)}const C=s(m,[["render",u]]);export{k as __pageData,C as default};
