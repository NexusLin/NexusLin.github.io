import{_ as i,c as a,o as n,ag as h}from"./chunks/framework.DnwzncJk.js";const g=JSON.parse('{"title":"æ—¥å¿—è¾“å‡º","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"src/rust/Rust06-æ—¥å¿—ä½¿ç”¨.md","filePath":"src/rust/Rust06-æ—¥å¿—ä½¿ç”¨.md","lastUpdated":1758015947000}'),l={name:"src/rust/Rust06-æ—¥å¿—ä½¿ç”¨.md"};function t(p,s,e,k,E,r){return n(),a("div",null,s[0]||(s[0]=[h(`<h1 id="æ—¥å¿—è¾“å‡º" tabindex="-1">æ—¥å¿—è¾“å‡º <a class="header-anchor" href="#æ—¥å¿—è¾“å‡º" aria-label="Permalink to &quot;æ—¥å¿—è¾“å‡º&quot;">â€‹</a></h1><h2 id="_1ã€è®¤è¯†æ—¥å¿—åº“logå’Œenv-logger" tabindex="-1">1ã€è®¤è¯†æ—¥å¿—åº“<code>log</code>å’Œ<code>env_logger</code> <a class="header-anchor" href="#_1ã€è®¤è¯†æ—¥å¿—åº“logå’Œenv-logger" aria-label="Permalink to &quot;1ã€è®¤è¯†æ—¥å¿—åº“\`log\`å’Œ\`env_logger\`&quot;">â€‹</a></h2><p>æ—¥å¿—åº“<code>log</code>å’Œ <code>env_logger</code></p><p>é¡¹ç›®ä¹‹ä¸­æˆ‘ä»¬çµæ´»åœ°ç®¡ç†æ—¥å¿—ï¼ˆä¾‹å¦‚ï¼Œè°ƒè¯•ã€ä¿¡æ¯ã€è­¦å‘Šå’Œé”™è¯¯çº§åˆ«çš„æ—¥å¿—ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>log</code> åº“å’Œ <code>env_logger</code> æ¥è¾“å‡ºæ—¥å¿—ä¿¡æ¯</p><h2 id="_2ã€å®‰è£…" tabindex="-1">2ã€å®‰è£… <a class="header-anchor" href="#_2ã€å®‰è£…" aria-label="Permalink to &quot;2ã€å®‰è£…&quot;">â€‹</a></h2><h3 id="ğŸ‘‰åœ¨-cargo-toml-ä¸­æ·»åŠ ä¾èµ–" tabindex="-1">ğŸ‘‰åœ¨ <code>Cargo.toml</code> ä¸­æ·»åŠ ä¾èµ– <a class="header-anchor" href="#ğŸ‘‰åœ¨-cargo-toml-ä¸­æ·»åŠ ä¾èµ–" aria-label="Permalink to &quot;ğŸ‘‰åœ¨ \`Cargo.toml\` ä¸­æ·»åŠ ä¾èµ–&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[dependencies]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">log </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;0.4&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">env_logger </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;0.9&quot;</span></span></code></pre></div><h2 id="_3ã€ä½¿ç”¨" tabindex="-1">3ã€ä½¿ç”¨ <a class="header-anchor" href="#_3ã€ä½¿ç”¨" aria-label="Permalink to &quot;3ã€ä½¿ç”¨&quot;">â€‹</a></h2><h3 id="ğŸ‘‰åœ¨é¡¹ç›®ä¹‹ä¸­ä½¿ç”¨" tabindex="-1">ğŸ‘‰åœ¨é¡¹ç›®ä¹‹ä¸­ä½¿ç”¨ <a class="header-anchor" href="#ğŸ‘‰åœ¨é¡¹ç›®ä¹‹ä¸­ä½¿ç”¨" aria-label="Permalink to &quot;ğŸ‘‰åœ¨é¡¹ç›®ä¹‹ä¸­ä½¿ç”¨&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">use </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::{info, warn, error};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fn </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åˆå§‹åŒ–æ—¥å¿—è®°å½•å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    env_logger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä½¿ç”¨ä¸åŒçš„æ—¥å¿—çº§åˆ«</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;This is an info message.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    warn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;This is a warning message.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;This is an error message.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="ğŸ‘‰æ˜¾å¼è®¾ç½®æ—¥å¿—çº§åˆ«å’Œè¾“å‡ºæ ¼å¼" tabindex="-1">ğŸ‘‰æ˜¾å¼è®¾ç½®æ—¥å¿—çº§åˆ«å’Œè¾“å‡ºæ ¼å¼ <a class="header-anchor" href="#ğŸ‘‰æ˜¾å¼è®¾ç½®æ—¥å¿—çº§åˆ«å’Œè¾“å‡ºæ ¼å¼" aria-label="Permalink to &quot;ğŸ‘‰æ˜¾å¼è®¾ç½®æ—¥å¿—çº§åˆ«å’Œè¾“å‡ºæ ¼å¼&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰‹åŠ¨æ–¹å¼è®¾ç½®è¾“å‡º</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ˜¾å¼è®¾ç½®æ—¥å¿—çº§åˆ«å’Œè¾“å‡ºæ ¼å¼</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Builder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse_filters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;info&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®¾ç½®æ—¥å¿—çº§åˆ«ä¸º info</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆå§‹åŒ–æ—¥å¿—è®°å½•å™¨</span></span></code></pre></div><h3 id="ğŸ‘‰é…ç½®æ—¥å¿—è¾“å‡ºçº§åˆ«" tabindex="-1">ğŸ‘‰é…ç½®æ—¥å¿—è¾“å‡ºçº§åˆ« <a class="header-anchor" href="#ğŸ‘‰é…ç½®æ—¥å¿—è¾“å‡ºçº§åˆ«" aria-label="Permalink to &quot;ğŸ‘‰é…ç½®æ—¥å¿—è¾“å‡ºçº§åˆ«&quot;">â€‹</a></h3><p><code>env_logger</code> æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡é…ç½®æ—¥å¿—çš„è¾“å‡ºçº§åˆ«ã€‚ä¾‹å¦‚ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è®¾ç½®ç¯å¢ƒå˜é‡ <code>RUST_LOG</code> æ¥æ§åˆ¶è¾“å‡º</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ä¸åŒçš„çº§åˆ«ï¼š</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">trace </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> è°ƒè¯•æ—¶è®°å½•çš„è¯¦ç»†ä¿¡æ¯ï¼ˆæœ€è¯¦ç»†ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">debug </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> è°ƒè¯•ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">info </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ä¸€èˆ¬ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">warn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> è­¦å‘Šä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> é”™è¯¯ä¿¡æ¯ï¼ˆæœ€å°‘ï¼‰</span></span></code></pre></div><h3 id="ğŸ‘‰æ–‡ä»¶ä¹‹ä¸­è¾“å‡º" tabindex="-1">ğŸ‘‰<strong>æ–‡ä»¶ä¹‹ä¸­è¾“å‡º</strong> <a class="header-anchor" href="#ğŸ‘‰æ–‡ä»¶ä¹‹ä¸­è¾“å‡º" aria-label="Permalink to &quot;ğŸ‘‰**æ–‡ä»¶ä¹‹ä¸­è¾“å‡º**&quot;">â€‹</a></h3><p>éœ€è¦æ³¨æ„æˆ‘ä»¬åœ¨æ–‡ä»¶ä¹‹ä¸­ä½¿ç”¨çš„æ—¶å€™éœ€è¦æŠŠDebugçš„åŠŸèƒ½å¼€å¯äº†æ‰èƒ½è¿›è¡Œä½¿ç”¨</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pub async fn </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get_all_users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pool: web::Data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MySqlPool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    query: web::Query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Pagination</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> impl Responder {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ†é¡µæ•°æ®æ¨¡å‹ åŠ Debug</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">derive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(serde::Deserialize,Debug)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pub struct Pagination {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    #[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">serde</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rename </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;pageNum&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pub </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">page_num</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Option</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">u32</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    #[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">serde</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rename </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;pageSize&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pub </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">page_size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Option</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">u32</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æ‰å¯ä»¥è¾“å‡º</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ”¶åˆ°æŸ¥è¯¢è¯·æ±‚{}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,query.page_num.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unwrap_or</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2025</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">07</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">20</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">T09</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">35</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:23</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Z</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  nexusrust::modules::user::handlers] æ”¶åˆ°æŸ¥è¯¢ è¯·æ±‚2</span></span></code></pre></div><h2 id="_4ã€é¡¹ç›®ä½¿ç”¨" tabindex="-1">4ã€é¡¹ç›®ä½¿ç”¨ <a class="header-anchor" href="#_4ã€é¡¹ç›®ä½¿ç”¨" aria-label="Permalink to &quot;4ã€é¡¹ç›®ä½¿ç”¨&quot;">â€‹</a></h2><h3 id="ğŸ‘‰é¡¹ç›®å…¥å£è¾“å‡º" tabindex="-1">ğŸ‘‰é¡¹ç›®å…¥å£è¾“å‡º <a class="header-anchor" href="#ğŸ‘‰é¡¹ç›®å…¥å£è¾“å‡º" aria-label="Permalink to &quot;ğŸ‘‰é¡¹ç›®å…¥å£è¾“å‡º&quot;">â€‹</a></h3>`,22)]))}const o=i(l,[["render",t]]);export{g as __pageData,o as default};
