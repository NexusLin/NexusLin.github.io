import{_ as i,c as a,ag as n,o as t}from"./chunks/framework.Bft4-MjQ.js";const p="/react/reacr-lifecycle1.png",h="/react/reacr-lifecycle2.png",l="/react/reacr-lifecycle4.png",k="/react/reacr-lifecycle5.png",F=JSON.parse('{"title":"â¤React-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"src/react/react-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ.md","filePath":"src/react/react-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ.md"}'),e={name:"src/react/react-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ.md"};function E(r,s,d,g,o,c){return t(),a("div",null,s[0]||(s[0]=[n('<h1 id="â¤react-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ" tabindex="-1">â¤React-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ <a class="header-anchor" href="#â¤react-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ" aria-label="Permalink to &quot;â¤React-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ&quot;">â€‹</a></h1><h2 id="_1ã€ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°" tabindex="-1">1ã€ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°. <a class="header-anchor" href="#_1ã€ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°" aria-label="Permalink to &quot;1ã€ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°.&quot;">â€‹</a></h2><h3 id="ğŸ‘‰ç”Ÿå‘½å‘¨æœŸå«ä¹‰" tabindex="-1">ğŸ‘‰<code>ç”Ÿå‘½å‘¨æœŸ</code>å«ä¹‰ï¼š <a class="header-anchor" href="#ğŸ‘‰ç”Ÿå‘½å‘¨æœŸå«ä¹‰" aria-label="Permalink to &quot;ğŸ‘‰`ç”Ÿå‘½å‘¨æœŸ`å«ä¹‰ï¼š&quot;">â€‹</a></h3><p>ä»ç»„ä»¶å‡ºç”Ÿåˆ°æ›´æ–°ã€æ”¹å˜ã€é”€æ¯ï¼ˆåˆ›å»º\\æ›´æ–°\\é”€æ¯ï¼‰çš„æ•´ä¸ªé˜¶æ®µã€‚</p><h3 id="ğŸ‘‰ç”Ÿå‘½å‘¨æœŸçš„é’©å­å‡½æ•°å«ä¹‰" tabindex="-1">ğŸ‘‰<code>ç”Ÿå‘½å‘¨æœŸçš„é’©å­å‡½æ•°</code>å«ä¹‰ï¼š <a class="header-anchor" href="#ğŸ‘‰ç”Ÿå‘½å‘¨æœŸçš„é’©å­å‡½æ•°å«ä¹‰" aria-label="Permalink to &quot;ğŸ‘‰`ç”Ÿå‘½å‘¨æœŸçš„é’©å­å‡½æ•°`å«ä¹‰ï¼š&quot;">â€‹</a></h3><p>ç»„ä»¶çš„æ¯ä¸ªé˜¶æ®µéƒ½ä¼´éšç€ä¸€äº›æ–¹æ³•ï¼Œå°±æ˜¯ç”Ÿå‘½å‘¨æœŸçš„é’©å­å‡½æ•°,æˆ‘ä»¬å°±æ˜¯é€šè¿‡æ§åˆ¶è¿™äº›ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä»è€Œæ§åˆ¶ç»„ä»¶ã€‚</p><h3 id="ğŸ‘‰ç”Ÿå‘½å‘¨æœŸæ„ä¹‰" tabindex="-1">ğŸ‘‰<code>ç”Ÿå‘½å‘¨æœŸ</code>æ„ä¹‰ï¼š <a class="header-anchor" href="#ğŸ‘‰ç”Ÿå‘½å‘¨æœŸæ„ä¹‰" aria-label="Permalink to &quot;ğŸ‘‰`ç”Ÿå‘½å‘¨æœŸ`æ„ä¹‰ï¼š&quot;">â€‹</a></h3><p>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæœ‰åŠ©äºç†è§£ç»„ä»¶çš„è¿è¡Œæ–¹å¼ã€å®Œæˆæ›´å¤æ‚çš„ç»„ä»¶åŠŸèƒ½ã€åˆ†æç»„ä»¶é”™è¯¯åŸå› </p><h3 id="ğŸ‘‰tips" tabindex="-1">ğŸ‘‰<code>TIPS</code> <a class="header-anchor" href="#ğŸ‘‰tips" aria-label="Permalink to &quot;ğŸ‘‰`TIPS`&quot;">â€‹</a></h3><p>åªæœ‰ç±»ç»„ä»¶æ‰æœ‰ç”Ÿå‘½å‘¨æœŸ</p><h2 id="_2ã€-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µ" tabindex="-1">2ã€ ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µ <a class="header-anchor" href="#_2ã€-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µ" aria-label="Permalink to &quot;2ã€ ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µ&quot;">â€‹</a></h2><p>1.æ¯ä¸ªé˜¶æ®µçš„æ‰§è¡Œæ—¶æœº</p><p>2ã€æ¯ä¸ªé˜¶æ®µé’©å­å‡½æ•°çš„æ‰§è¡Œé¡ºåº</p><p>3ã€æ¯ä¸ªé˜¶æ®µé’©å­å‡½æ•°çš„ä½œç”¨</p><h3 id="ğŸ‘‰ä¸»è¦é˜¶æ®µ" tabindex="-1">ğŸ‘‰ä¸»è¦é˜¶æ®µ <a class="header-anchor" href="#ğŸ‘‰ä¸»è¦é˜¶æ®µ" aria-label="Permalink to &quot;ğŸ‘‰ä¸»è¦é˜¶æ®µ&quot;">â€‹</a></h3><p>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸»è¦åˆ†ä¸ºä¸‰ä¸ªä¸»è¦é˜¶æ®µï¼š</p><p><code>æŒ‚è½½ï¼ˆMountingï¼‰ã€</code></p><p><code>æ›´æ–°ï¼ˆUpdatingï¼‰ã€</code></p><p><code>å¸è½½ï¼ˆUnmountingï¼‰</code></p><blockquote><p>ç”Ÿå‘½å‘¨æœŸå›¾ <img src="'+p+'" alt="image.png"></p></blockquote><h3 id="ğŸ‘‰-åˆ›å»ºæ—¶" tabindex="-1">ğŸ‘‰ åˆ›å»ºæ—¶ <a class="header-anchor" href="#ğŸ‘‰-åˆ›å»ºæ—¶" aria-label="Permalink to &quot;ğŸ‘‰ åˆ›å»ºæ—¶&quot;">â€‹</a></h3><ol><li>åˆ›å»ºæ—¶ï¼ˆæŒ‚è½½é˜¶æ®µï¼‰</li></ol><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">æ‰§è¡Œæ—¶æœºï¼šç»„ä»¶åˆ›å»ºæ—¶ï¼ˆé¡µé¢åŠ è½½æ—¶ï¼‰</span></span></code></pre></div><p>æ‰§è¡Œé¡ºåºï¼š <img src="'+h+`" alt="image.png"></p><h3 id="ğŸ‘‰é’©å­å‡½æ•°" tabindex="-1">ğŸ‘‰é’©å­å‡½æ•° <a class="header-anchor" href="#ğŸ‘‰é’©å­å‡½æ•°" aria-label="Permalink to &quot;ğŸ‘‰é’©å­å‡½æ•°&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>é’©å­å‡½æ•°</th><th>è§¦å‘æ—¶æœº</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong>constructor</strong></td><td>åˆ›å»ºç»„ä»¶æ—¶ï¼Œæœ€å…ˆæ‰§è¡Œ</td><td>1. åˆå§‹åŒ– state<br>2. ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºç»‘å®š this</td></tr><tr><td><strong>render</strong></td><td>æ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½ä¼šè§¦å‘</td><td>1. æ¸²æŸ“ UIï¼ˆæ³¨æ„ï¼šä¸èƒ½è°ƒç”¨ <code>setState()</code>ï¼‰</td></tr><tr><td><strong>componentDidMount</strong></td><td>ç»„ä»¶æŒ‚è½½ï¼ˆå®Œæˆ DOM æ¸²æŸ“ï¼‰å</td><td>1. å‘é€ç½‘ç»œè¯·æ±‚<br>2. DOM æ“ä½œ</td></tr></tbody></table><h3 id="ğŸ‘‰ä½¿ç”¨ç¤ºä¾‹" tabindex="-1">ğŸ‘‰ä½¿ç”¨ç¤ºä¾‹ <a class="header-anchor" href="#ğŸ‘‰ä½¿ç”¨ç¤ºä¾‹" aria-label="Permalink to &quot;ğŸ‘‰ä½¿ç”¨ç¤ºä¾‹&quot;">â€‹</a></h3><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åˆå§‹åŒ– state</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¤„ç† this æŒ‡å‘é—®é¢˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šconstructor&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 1. è¿›è¡Œ DOM æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 2. å‘é€ ajax è¯·æ±‚ï¼Œè·å–è¿œç¨‹æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  componentDidMount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šcomponentDidMount&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¿™é‡Œå¯ä»¥è¿›è¡Œ AJAX è¯·æ±‚ç­‰æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // const title = document.getElementById(&#39;title&#39;);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // console.log(title);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // é”™è¯¯æ¼”ç¤ºï¼ï¼ï¼ä¸è¦åœ¨ render ä¸­è°ƒç”¨ setState</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // this.setState({ count: 1 });  // **é”™è¯¯**ï¼šä¸è¦åœ¨ render ä¸­è°ƒç”¨ setStateï¼</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šrender&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Count: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state.count}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state.count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          Increment</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MyComponent;</span></span></code></pre></div><h3 id="ğŸ‘‰æ›´æ–°æ—¶" tabindex="-1">ğŸ‘‰æ›´æ–°æ—¶ <a class="header-anchor" href="#ğŸ‘‰æ›´æ–°æ—¶" aria-label="Permalink to &quot;ğŸ‘‰æ›´æ–°æ—¶&quot;">â€‹</a></h3><h4 id="æ›´æ–°çš„ä¸‰ç§æƒ…å†µ" tabindex="-1">æ›´æ–°çš„ä¸‰ç§æƒ…å†µ <a class="header-anchor" href="#æ›´æ–°çš„ä¸‰ç§æƒ…å†µ" aria-label="Permalink to &quot;æ›´æ–°çš„ä¸‰ç§æƒ…å†µ&quot;">â€‹</a></h4><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> **</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">æ‰§è¡Œæ—¶æœº</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ï¼š</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`setState()\`</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`forceUpdate()\`</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ç»„ä»¶æ¥æ”¶åˆ°æ–°çš„ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`props\`</span></span></code></pre></div><ul><li><strong>è¯´æ˜</strong>ï¼šä»¥ä¸Šä¸‰è€…ä»»æ„ä¸€ç§å˜åŒ–ï¼Œç»„ä»¶å°±ä¼šé‡æ–°æ¸²æŸ“ã€‚</li></ul><h4 id="æ‰§è¡Œé¡ºåº" tabindex="-1"><strong>æ‰§è¡Œé¡ºåº</strong> <a class="header-anchor" href="#æ‰§è¡Œé¡ºåº" aria-label="Permalink to &quot;**æ‰§è¡Œé¡ºåº**&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th>é’©å­å‡½æ•°</th><th>è§¦å‘æ—¶æœº</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong>render()</strong></td><td>æ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½ä¼šè§¦å‘</td><td>æ¸²æŸ“ UIï¼ˆä¸æŒ‚è½½é˜¶æ®µæ˜¯åŒä¸€ä¸ª <code>render</code>ï¼‰</td></tr><tr><td><strong>componentDidUpdate()</strong></td><td>ç»„ä»¶æ›´æ–°ï¼ˆå®Œæˆ DOM æ¸²æŸ“ï¼‰å</td><td>1. å‘é€ç½‘ç»œè¯·æ±‚<br>2. DOM æ“ä½œ<br>æ³¨æ„ï¼šå¦‚æœè¦ <code>setState()</code>ï¼Œå¿…é¡»æ”¾åœ¨ä¸€ä¸ª <code>if</code> æ¡ä»¶ä¸­</td></tr></tbody></table><h4 id="ğŸ‘‰ä½¿ç”¨ç¤ºä¾‹-1" tabindex="-1">ğŸ‘‰ä½¿ç”¨ç¤ºä¾‹ <a class="header-anchor" href="#ğŸ‘‰ä½¿ç”¨ç¤ºä¾‹-1" aria-label="Permalink to &quot;ğŸ‘‰ä½¿ç”¨ç¤ºä¾‹&quot;">â€‹</a></h4><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Counter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;--å­ç»„ä»¶--ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šrender&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;ç»Ÿè®¡è±†è±†è¢«æ‰“çš„æ¬¡æ•°: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.props.count}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  componentDidUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">prevProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;--å­ç»„ä»¶--ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šcomponentDidUpdate&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ­£ç¡®åšæ³•ï¼šåœ¨æ¡ä»¶ä¸­è°ƒç”¨ setState</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (prevProps.count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.props.count) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // å¯ä»¥åœ¨è¿™é‡Œè°ƒç”¨ setStateï¼Œä½†éœ€è¦ç¡®ä¿ä¸ä¼šå¯¼è‡´æ— é™å¾ªç¯</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // this.setState({});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // é”™è¯¯æ¼”ç¤ºï¼ï¼ï¼</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç›´æ¥è°ƒç”¨ setState ä¼šå¯¼è‡´é€’å½’æ›´æ–°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // this.setState({});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è·å– DOM</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> title</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(title.innerHTML);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">componentDidUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(prevProps) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;--å­ç»„ä»¶--ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šcomponentDidUpdate&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ¯”è¾ƒæ›´æ–°å‰åçš„ props æ˜¯å¦ç›¸åŒï¼Œå†³å®šæ˜¯å¦é‡æ–°æ¸²æŸ“ç»„ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ä¸Šä¸€æ¬¡çš„props:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, prevProps, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;, å½“å‰çš„props:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.props);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¦‚æœ count å‘ç”Ÿå˜åŒ–ï¼Œæ›´æ–°çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (prevProps.count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.props.count) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‡è®¾ä½ æƒ³å°† count çŠ¶æ€é‡ç½®ä¸º 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="ç»„ä»¶çš„å‡½æ•°å‘¨æœŸ" tabindex="-1">ç»„ä»¶çš„å‡½æ•°å‘¨æœŸ <a class="header-anchor" href="#ç»„ä»¶çš„å‡½æ•°å‘¨æœŸ" aria-label="Permalink to &quot;ç»„ä»¶çš„å‡½æ•°å‘¨æœŸ&quot;">â€‹</a></h4><p>render ç”Ÿå‘½å‘¨æœŸæ¸²æŸ“ componenetDidUpdate() ç”Ÿå‘½å‘¨æœŸæ›´æ–°</p><p><strong>æ³¨æ„éƒ¨åˆ†ï¼š</strong></p><p>seState åº”è¯¥æ”¾åœ¨åˆ¤æ–­if é‡Œé¢ajaxçš„è¯·æ±‚éƒ¨åˆ†åº”è¯¥æ”¾åœ¨è¿™é‡Œ</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Counter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;--å­ç»„ä»¶--ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šrender&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;ç»Ÿè®¡è±†è±†è¢«æ‰“çš„æ¬¡æ•°: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.props.count}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  componentDidUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;--å­ç»„ä»¶--ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šcomponentDidUpdate&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è·å– DOM å…ƒç´ </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> title</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(title.innerHTML); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰“å° h1 å…ƒç´ çš„å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Counter;</span></span></code></pre></div><h3 id="ğŸ‘‰ç»„ä»¶å¸è½½æ—¶-å¸è½½é˜¶æ®µ" tabindex="-1">ğŸ‘‰ç»„ä»¶å¸è½½æ—¶ï¼ˆå¸è½½é˜¶æ®µï¼‰ <a class="header-anchor" href="#ğŸ‘‰ç»„ä»¶å¸è½½æ—¶-å¸è½½é˜¶æ®µ" aria-label="Permalink to &quot;ğŸ‘‰ç»„ä»¶å¸è½½æ—¶ï¼ˆå¸è½½é˜¶æ®µï¼‰&quot;">â€‹</a></h3><p><code>æ‰§è¡Œæ—¶é—´ï¼šç»„ä»¶ä»é¡µé¢ä¹‹ä¸­æ¶ˆå¤±æ—¶</code></p><table tabindex="0"><thead><tr><th>é’©å­å‡½æ•°</th><th>è§¦å‘æ—¶æœº</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong>componentWillUnmount</strong></td><td>ç»„ä»¶å¸è½½ï¼ˆä»é¡µé¢ä¸­æ¶ˆå¤±ï¼‰</td><td>æ‰§è¡Œæ¸…ç†å·¥ä½œï¼ˆæ¯”å¦‚ï¼šæ¸…ç†å®šæ—¶å™¨ç­‰ï¼‰</td></tr></tbody></table><ul><li>componentDidMount(){}ç»„ä»¶çš„æŒ‚è½½é˜¶æ®µ</li><li>componentWillUnmount(){}ç»„ä»¶çš„å¸è½½é˜¶æ®µ</li></ul><p><code>ç»„ä»¶çš„æŒ‚è½½é˜¶æ®µæ‰§è¡Œçš„ä¸€äº›æ–¹æ³•å¯ä»¥åœ¨ç»„ä»¶çš„å¸è½½é˜¶æ®µé™¤å»</code></p><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Counter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  componentDidMount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¼€å¯å®šæ—¶å™¨</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.timerId </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å®šæ—¶å™¨æ­£åœ¨æ‰§è¡Œ~&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;ç»Ÿè®¡è±†è±†è¢«æ‰“çš„æ¬¡æ•°: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.props.count}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  componentWillUnmount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°: componentWillUnmount&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ¸…ç†å®šæ—¶å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    clearInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.timerId);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="_3ã€æ—§ç‰ˆæœ¬-ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°-react-15-å¯ç›´æ¥è·³è¿‡" tabindex="-1">3ã€æ—§ç‰ˆæœ¬-ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°(react 15 å¯ç›´æ¥è·³è¿‡) <a class="header-anchor" href="#_3ã€æ—§ç‰ˆæœ¬-ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°-react-15-å¯ç›´æ¥è·³è¿‡" aria-label="Permalink to &quot;3ã€æ—§ç‰ˆæœ¬-ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°(react 15 å¯ç›´æ¥è·³è¿‡)&quot;">â€‹</a></h2><p><img src="`+l+'" alt="image.png"></p><p>æˆ‘ä»¬å¯ä»¥æ¥çœ‹çœ‹React15 çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</p><p>ï¼ˆ1ï¼‰<code>constructor() </code>: ES6 ç±»ä¸­çš„æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–ä½¿ç”¨ï¼ˆæ¯”å¦‚åˆå§‹åŒ–ç»„ä»¶çŠ¶æ€ï¼ˆstateï¼‰ç»‘å®šäº‹ä»¶å¤„ç†å™¨ï¼›ï¼‰,ç»„ä»¶å®ä¾‹åŒ–æ—¶è°ƒç”¨</p><p>ï¼ˆ2ï¼‰<code> componentWillReceiveProps()</code>: ä¸€èˆ¬ä½¿ç”¨éƒ½æ˜¯ä¼ å€¼ <code>componentWillReceiveProps(nextProps)</code></p><ul><li><strong>å·²åºŸå¼ƒ</strong>ï¼šè¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°å°±æ˜¯åœ¨ç»„ä»¶å³å°†æ¥æ”¶æ–°çš„å±æ€§æ—¶è¢«è°ƒç”¨ï¼ˆæ—§ç‰ˆæœ¬Reactä¸­å°±æ˜¯æ›´æ–°ç”¨ï¼‰ã€‚å¯ä»¥åœ¨è¿™é‡Œæ¯”è¾ƒæ–°æ—§å±æ€§ï¼Œç„¶åæ›´æ–°ç»„ä»¶çš„çŠ¶æ€;</li></ul><p>ï¼ˆ3ï¼‰<code>shouldComponentUpdate(nextProps, nextState)</code>: ç»„ä»¶æ¥æ”¶åˆ°æ–°çš„å±æ€§æˆ–è€…çŠ¶æ€æ—¶ï¼Œåœ¨æ›´æ–°ç»„ä»¶ä¹‹å‰è°ƒç”¨ <code>shouldComponentUpdate()</code> å‡½æ•°ã€‚</p><p>æ ¹æ®æ–°çš„å±æ€§å’ŒçŠ¶æ€åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“ç»„ä»¶(æ€§èƒ½ä¼˜åŒ–å¸¸ç”¨)</p><p>ï¼ˆ4ï¼‰<code>componentWillMount()</code>:</p><ul><li><strong>å·²åºŸå¼ƒ</strong>ï¼šæ–°ç‰ˆæœ¬ä¸å†æ¨èä½¿ç”¨ã€‚ åœ¨ç»„ä»¶å³å°†è¢«æŒ‚è½½åˆ° DOM ä¸­æ—¶è¢«è°ƒç”¨,å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>constructor()</code> æˆ–è€… <code>componentDidMount()</code> æ¥æ›¿ä»£ã€‚</li></ul><p>ï¼ˆ5ï¼‰<code>componentWillUpdate(nextProps, nextState)</code>: <strong>å·²åºŸå¼ƒ</strong>ï¼šæ–°ç‰ˆæœ¬ä¸å†æ¨è,åœ¨ç»„ä»¶å³å°†è¢«æ›´æ–°ä¹‹å‰è¢«è°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶å³å°†æ›´æ–°ä¹‹å‰æ§åˆ¶ç»„ä»¶ã€‚</p><p>ï¼ˆ6ï¼‰<code>componentDidUpdate()</code>: ç»„ä»¶ç¬¬ä¸€æ¬¡è¢«æ¸²æŸ“åˆ° DOM ä¸­ä¹‹åè¢«è°ƒç”¨ã€‚æˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€äº›åˆå§‹åŒ–çš„æ“ä½œï¼Œè·å–è¿œç¨‹æ•°æ®ã€è®¢é˜…äº‹ä»¶ç­‰</p><p>ï¼ˆ7ï¼‰<code>render()</code>: <code>render()</code> <code>æœ€é‡è¦</code> çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹‹ä¸€,è¿”å›è™šæ‹Ÿ DOM å…ƒç´ ï¼Œæ¸²æŸ“ç»„ä»¶å¤–è§‚å’Œç»“æ„.</p><p>ï¼ˆ8ï¼‰<code>componentWillUnmount()</code>: åœ¨ç»„ä»¶å³å°†è¢«é”€æ¯å’Œä» DOM ä¸­ç§»é™¤ä¹‹å‰è¢«è°ƒç”¨,å°±ç±»ä¼¼ç ¸é—¨åœ¨vueé”€æ¯ä¹‹å‰ä¸€æ ·ï¼Œå¯ä»¥å–æ¶ˆè®¢é˜…ã€æ¸…é™¤å®šæ—¶å™¨ã€‚</p><h2 id="_4ã€é‡è¦-æ–°ç‰ˆæœ¬-ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°-react-16" tabindex="-1">4ã€<code>é‡è¦</code>- æ–°ç‰ˆæœ¬-ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°(react 16 ) <a class="header-anchor" href="#_4ã€é‡è¦-æ–°ç‰ˆæœ¬-ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°-react-16" aria-label="Permalink to &quot;4ã€`é‡è¦`- æ–°ç‰ˆæœ¬-ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°(react 16 )&quot;">â€‹</a></h2><p><img src="'+k+`" alt="image.png"></p><h3 id="_1-constructor" tabindex="-1">ï¼ˆ1ï¼‰ constructor <a class="header-anchor" href="#_1-constructor" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰ constructor&quot;">â€‹</a></h3><p>åœ¨ç±»ç»„ä»¶åˆ›å»ºå®ä¾‹æ—¶è°ƒç”¨ï¼Œåˆå§‹åŒ–çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡ï¼Œå¯ä»¥åœ¨ç»„ä»¶è¿›è¡Œåˆå§‹åŒ–æ—¶å€™æ§åˆ¶ç»„ä»¶ã€‚</p><p>ä¸å®šä¹‰ <code>constructor</code>ï¼ŒReact ä¼šè‡ªåŠ¨ä¸ºç»„ä»¶åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ <code>constructor</code></p><p>æˆ‘ä»¬æ¥å†™ä¸€ä¸ªç®€å•çš„<code>ç±»ç»„ä»¶</code> çœ‹çœ‹</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç”Ÿå‘½å‘¨æœŸ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Demo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//superä½œç”¨ ï¼š ä¼ é€’props,æ‰èƒ½åœ¨æ¥ä¸‹æ¥çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œè·å–åˆ°props</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;constructor-ç”Ÿå‘½å‘¨æœŸ&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;App&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;link&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;constructor&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Demo;</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">constructor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ç”Ÿå‘½å‘¨æœŸ</span></span></code></pre></div><p>ä½œç”¨</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   åˆå§‹åŒ– state ï¼Œè·å–è·¯ç”±ä¸­çš„å‚æ•°ï¼Œç»„ä»¶ä¼ å€¼èµ‹å€¼ç»™ stateç­‰ ã€‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   ç»‘å®šç±»ç»„ä»¶äº‹ä»¶ï¼Œç»‘å®š </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ã€èŠ‚æµï¼Œé˜²æŠ–ã€‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   å¯¹ç±»ç»„ä»¶è¿›è¡Œç”Ÿå‘½å‘¨æœŸçš„åŠ«æŒï¼Œæ¸²æŸ“åŠ«æŒç­‰ã€‚</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 01  åˆå§‹åŒ–çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Demo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;props&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;constructor-ç”Ÿå‘½å‘¨æœŸ&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //åˆå§‹åŒ–çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            name:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;alien&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">export default </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Demo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 02 **ç»‘å®šäº‹ä»¶å¤„ç†å™¨**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.handleClick </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.handleClick.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;handleClick&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">03</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> **</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">åˆå§‹åŒ–å¼•ç”¨</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props); </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.myRef </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_2-getderivedstatefromprops-react-16-æ–°å¢" tabindex="-1">ï¼ˆ2ï¼‰ getDerivedStateFromProps ï¼ˆreact 16 æ–°å¢ï¼‰ <a class="header-anchor" href="#_2-getderivedstatefromprops-react-16-æ–°å¢" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰ getDerivedStateFromProps ï¼ˆreact 16 æ–°å¢ï¼‰&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDerivedStateFromProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(nextProps,prevState)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// nextProps çˆ¶ç»„ä»¶æ–°ä¼ é€’çš„ props ;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// prevState ç»„ä»¶åœ¨æ­¤æ¬¡æ›´æ–°å‰çš„ state</span></span></code></pre></div><p>ç»„ä»¶æ›´æ–°æ‰§è¡ŒåŒ…æ‹¬ï¼ˆpropså˜åŒ–ï¼ŒsetStateã€forceUpdateï¼‰</p><p><code>æ³¨æ„ç‚¹</code></p><p>getDerivedStateFromProps è¢«å®šä¹‰ä¸º static æ–¹æ³• â€”â€” static æ–¹æ³•å†…éƒ¨æ‹¿ä¸åˆ°ç»„ä»¶å®ä¾‹çš„ this</p><p>ä»»ä½•æ“ä½œ this.fetch()ä¹‹ç±»çš„éƒ½ä¸å¯ä»¥åœ¨é‡Œå–é¢ä½¿ç”¨</p><p>åœ¨ç»„ä»¶çš„æ“ä½œä¹‹ä¸­å¤§è‡´å½’ä¸ºä¸¤ç±»</p><ul><li><strong>åŸºäº props æ›´æ–°çŠ¶æ€</strong></li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getDerivedStateFromProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">nextProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">prevState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¦‚æœæ¥æ”¶åˆ°æ–°çš„å€¼ï¼Œæ›´æ–°çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (nextProps.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prevState.value) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        value: nextProps.value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸æ›´æ–°çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><strong>æ§åˆ¶å†…éƒ¨çŠ¶æ€</strong></li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      isFocused: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getDerivedStateFromProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">nextProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">prevState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (nextProps.autoFocus </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">prevState.isFocused) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        isFocused: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_3-render" tabindex="-1">ï¼ˆ3 ï¼‰render <a class="header-anchor" href="#_3-render" aria-label="Permalink to &quot;ï¼ˆ3 ï¼‰render&quot;">â€‹</a></h3><p>æ¸²æŸ“æ—¶æ“ä½œå…ƒç´ </p><h3 id="_4-componentdidmount" tabindex="-1">ï¼ˆ4ï¼‰componentDidMount <a class="header-anchor" href="#_4-componentdidmount" aria-label="Permalink to &quot;ï¼ˆ4ï¼‰componentDidMount&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">componentDidMount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ç»„ä»¶æŒ‚è½½åˆ° </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DOM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> åç«‹å³è¢«è°ƒç”¨ï¼Œè·Ÿä¸Šé¢ä½œç”¨ä¸€æ ·ï¼Œè¿›è¡Œæ•°æ®è·å–ã€è®¢é˜…äº‹ä»¶ç­‰åˆå§‹åŒ–å·¥ä½œ</span></span></code></pre></div><h3 id="_5-shouldcomponentupdate" tabindex="-1">ï¼ˆ5ï¼‰shouldComponentUpdate <a class="header-anchor" href="#_5-shouldcomponentupdate" aria-label="Permalink to &quot;ï¼ˆ5ï¼‰shouldComponentUpdate&quot;">â€‹</a></h3><p>å°±æ˜¯åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“ç»„ä»¶ï¼Œä¸»è¦ä¾èµ–ä¼ å…¥çš„props æˆ– state æ¥å†³å®šæ˜¯å¦æ›´æ–°ç»„ä»¶</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shouldComponentUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newProps,newState,nextContext){}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‚æ•°å«ä¹‰ ï¼ˆæ–°çš„ æ—§çš„ æ›´æ–°çš„ï¼‰</span></span></code></pre></div><h3 id="_6-getsnapshotbeforeupdate" tabindex="-1">ï¼ˆ6ï¼‰getSnapshotBeforeUpdate <a class="header-anchor" href="#_6-getsnapshotbeforeupdate" aria-label="Permalink to &quot;ï¼ˆ6ï¼‰getSnapshotBeforeUpdate&quot;">â€‹</a></h3><p>ç»„ä»¶æ›´æ–° DOM ä¹‹å‰è¢«è°ƒç”¨ï¼ˆå¦‚æ»šåŠ¨ä½ç½®çš„ä½¿ç”¨ï¼‰</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSnapshotBeforeUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(prevProps, prevState) { </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿”å›æ»šåŠ¨ä½ç½® return this.myRef.current.scrollHeight; </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// prevPropsæ›´æ–°å‰çš„props   preStateæ›´æ–°å‰çš„stateï¼›</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‚æ•°å«ä¹‰ ï¼ˆæ–°çš„ æ—§çš„ æ›´æ–°çš„ï¼‰</span></span></code></pre></div><p>æ³¨æ„ç‚¹ï¼š</p><ul><li><code>getSnapshotBeforeUpdate</code>å¿…é¡»ä¸ <code>componentDidUpdate</code> ä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸ºå®ƒçš„è¿”å›å€¼ä¼šä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™ <code>componentDidUpdate</code>ã€‚</li><li>æˆ‘ä»¬åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¸ä½¿ç”¨,å®ƒä¸»è¦ç”¨äºå¤„ç†ä¸€äº›å¤„ç†å¤æ‚çš„ UI åŠ¨ç”»æˆ–éœ€è¦æ‰‹åŠ¨ä¿å­˜å’Œæ¢å¤æŸäº› DOM çŠ¶æ€çš„æƒ…å†µã€‚</li></ul><h3 id="_7-componentdidupdate" tabindex="-1">ï¼ˆ7ï¼‰componentDidUpdate <a class="header-anchor" href="#_7-componentdidupdate" aria-label="Permalink to &quot;ï¼ˆ7ï¼‰componentDidUpdate&quot;">â€‹</a></h3><p>ç»„ä»¶æ›´æ–°ï¼ˆre-renderï¼‰å®Œæˆä¹‹åè¢«è°ƒç”¨</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">componentDidUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(prevProps, prevState, snapshot){}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ›´æ–°ä¹‹å‰çš„ props æ›´æ–°ä¹‹å‰çš„ prevState  æ›´æ–°ä¹‹å‰çš„ DOM ä¿¡æ¯   </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ“ä½œå¯èƒ½ä¼šè§¦å‘é¢å¤–çš„ç»„ä»¶æ›´æ–°ï¼Œå› æ­¤éœ€è¦è°¨æ…å¤„ç†ï¼Œä»¥é¿å…é™·å…¥æ— é™å¾ªç¯</span></span></code></pre></div><h3 id="_8-componentwillunmount" tabindex="-1">ï¼ˆ8ï¼‰ componentWillUnmount <a class="header-anchor" href="#_8-componentwillunmount" aria-label="Permalink to &quot;ï¼ˆ8ï¼‰ componentWillUnmount&quot;">â€‹</a></h3><p>ç»„ä»¶é”€æ¯é˜¶æ®µå”¯ä¸€æ‰§è¡Œçš„ç”Ÿå‘½å‘¨æœŸ</p><p>componentDidMount è®¾ç½®å®šæ—¶å™¨ï¼ŒcomponentWillUnmountæ¸…æ¥šå®šæ—¶å™¨</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç”Ÿå‘½å‘¨æœŸ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Demo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;props&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;constructor-ç”Ÿå‘½å‘¨æœŸ&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //åˆå§‹åŒ–çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    componentDidMount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;componentDidMount&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.interval </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state.count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    componentWillUnmount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;componentWillUnmount&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">         clearInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.interval);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Timer: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state.count}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Demo;</span></span></code></pre></div><p>è¾“å‡ºç»“æœï¼š</p><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">48</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> alien</span></span></code></pre></div><p>åˆ·æ–°ä»¥åç»„ä»¶é‡æ–°é”€æ¯åˆ›å»ºå®šæ—¶å™¨</p><h2 id="_6ã€-å‡½æ•°å¼ç»„ä»¶-reactå£°æ˜å‘¨æœŸå‡½æ•°" tabindex="-1">6ã€ï¼ˆå‡½æ•°å¼ç»„ä»¶ï¼‰Reactå£°æ˜å‘¨æœŸå‡½æ•° <a class="header-anchor" href="#_6ã€-å‡½æ•°å¼ç»„ä»¶-reactå£°æ˜å‘¨æœŸå‡½æ•°" aria-label="Permalink to &quot;6ã€ï¼ˆå‡½æ•°å¼ç»„ä»¶ï¼‰Reactå£°æ˜å‘¨æœŸå‡½æ•°&quot;">â€‹</a></h2><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p><p>Reactå‡½æ•°å¼ç»„ä»¶ä¸­ï¼Œæ²¡æœ‰åƒç±»ç»„ä»¶é‚£æ ·æ˜ç¡®çš„å£°æ˜å‘¨æœŸå‡½æ•°ï¼Œå¯ä»¥é€šè¿‡ React Hookså®ç°ç±»ä¼¼çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</p><p>å¸¸ç”¨çš„ React Hooks åŠå…¶å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  \`useState\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: ç”¨äºå£°æ˜çŠ¶æ€å˜é‡ï¼Œç±»ä¼¼äºç±»ç»„ä»¶ä¸­çš„ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`state\`</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  \`useEffect\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: åœ¨ç»„ä»¶æ¸²æŸ“åæ‰§è¡Œå‰¯ä½œç”¨æ“ä½œï¼Œç±»ä¼¼äºç±»ç»„ä»¶ä¸­çš„ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`componentDidMount\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`componentDidUpdate\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`componentWillUnmount\`</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  \`useContext\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: ç”¨äºè®¿é—® React çš„ä¸Šä¸‹æ–‡ï¼Œç±»ä¼¼äºç±»ç»„ä»¶ä¸­çš„ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`static contextType\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> æˆ– </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`Context.Consumer\`</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  \`useReducer\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: ç”¨äºåº”å¯¹å¤æ‚çš„çŠ¶æ€ç®¡ç†é€»è¾‘ï¼Œç±»ä¼¼äºç±»ç»„ä»¶ä¸­çš„ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`setState\`</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  \`useRef\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: åˆ›å»ºä¸€ä¸ªå¯å˜çš„ ref å¯¹è±¡ï¼Œç±»ä¼¼äºç±»ç»„ä»¶ä¸­çš„ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`createRef\`</span></span></code></pre></div><p>Hooks éƒ½å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­å®ç°ç±»ä¼¼äºç±»ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åŠŸèƒ½</p>`,112)]))}const C=i(e,[["render",E]]);export{F as __pageData,C as default};
