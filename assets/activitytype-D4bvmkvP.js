import{r as i,f as X,g as Y,c as Z,a as V,b as l,l as c,v as C,h as t,i as u,j as ee,u as n,k as v,x as w,y as q,n as _,A as le,e as y}from"./index-B_mAkUH5.js";import{l as te,g as ae,u as oe,a as ne}from"./dictData-CefU4asS.js";const de={class:"page-articletype"},ie={class:"bcbox"},se={class:"bcbox"},ue={class:"bcbox"},re={class:"dialog-footer"},ve={__name:"activitytype",setup(ce){const U=i([]),p=i(!1),k=i(!0),z=i(!0),h=i([]),T=i(!0),R=i(!0),x=i(0),D=i("");i("activitytype"),i([]),le(),i([{value:"default",label:"默认"},{value:"primary",label:"主要"},{value:"success",label:"成功"},{value:"info",label:"信息"},{value:"warning",label:"警告"},{value:"danger",label:"危险"}]);const B=X({form:{},queryParams:{pageNum:1,pageSize:10,dictType:"activitytype",dictLabel:void 0,status:void 0},rules:{dictLabel:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}),{queryParams:s,form:d,rules:E}=Y(B);function b(){k.value=!0,te(s.value).then(o=>{U.value=o.data,x.value=o.total,k.value=!1})}function A(){p.value=!1,L()}function L(){d.value={dictCode:void 0,dictLabel:void 0,dictValue:void 0,cssClass:void 0,listClass:"default",dictSort:0,status:"0",remark:void 0}}function P(){s.value.pageNum=1,b()}function K(){}function Q(){L(),p.value=!0,D.value="添加",d.value.dictType=s.value.dictType}function $(o){h.value=o.map(e=>e.dictCode),T.value=o.length!=1,R.value=!o.length}function j(o){L();const e=o.dictCode||h.value;ae(e).then(r=>{d.value=r.data,p.value=!0,D.value="修改"})}const F=async()=>{try{if(d.value.dictCode!=null){const o=await oe(d.value);o.code==200?(_.success(o.message),p.value=!1,b()):_.error(o.message)}else{const o=await ne(d.value);o.code==200?(_.success(o.message),p.value=!1,b()):_.error(o.message)}}catch{_.error("操作失败")}};function pe(o){}return b(),(o,e)=>{const r=u("el-input"),m=u("el-form-item"),f=u("el-button"),N=u("el-form"),I=u("el-col"),M=u("el-row"),g=u("el-table-column"),G=u("el-table"),H=u("Pagination"),J=u("el-dialog"),S=q("hasPermi"),O=q("loading");return y(),Z("div",de,[V("div",ie,[c(l(N,{model:n(s),ref:"queryRef",inline:!0},{default:t(()=>[l(m,{label:"分类名称",prop:"dictLabel"},{default:t(()=>[l(r,{modelValue:n(s).dictLabel,"onUpdate:modelValue":e[0]||(e[0]=a=>n(s).dictLabel=a),placeholder:"请输入",clearable:"",style:{width:"200px"},onKeyup:ee(P,["enter"])},null,8,["modelValue"])]),_:1}),l(m,null,{default:t(()=>[l(f,{type:"primary",icon:"Search",onClick:P},{default:t(()=>e[9]||(e[9]=[v("搜索")])),_:1}),l(f,{icon:"Refresh",onClick:K},{default:t(()=>e[10]||(e[10]=[v("重置")])),_:1})]),_:1})]),_:1},8,["model"]),[[C,z.value]])]),V("div",se,[l(M,{gutter:10,class:"mb8"},{default:t(()=>[l(I,{span:1.5},{default:t(()=>[c((y(),w(f,{type:"primary",plain:"",icon:"Plus",onClick:Q},{default:t(()=>e[11]||(e[11]=[v("新增")])),_:1})),[[S,["system:dict:add"]]])]),_:1})]),_:1})]),V("div",ue,[c((y(),w(G,{data:U.value,onSelectionChange:$},{default:t(()=>[l(g,{type:"selection",width:"55",align:"center"}),l(g,{label:"ID",align:"center",prop:"dictCode"}),l(g,{label:"数据值",align:"center",prop:"dictValue"}),l(g,{label:"分类名称",align:"center",prop:"dictLabel"}),l(g,{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}),l(g,{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width"},{default:t(a=>[c((y(),w(f,{link:"",type:"primary",icon:"Edit",onClick:W=>j(a.row)},{default:t(()=>e[12]||(e[12]=[v("修改")])),_:2},1032,["onClick"])),[[S,["system:dict:edit"]]]),c((y(),w(f,{link:"",type:"primary",icon:"Delete",onClick:W=>(a.row,void 0)},{default:t(()=>e[13]||(e[13]=[v("删除")])),_:2},1032,["onClick"])),[[S,["system:dict:remove"]]])]),_:1})]),_:1},8,["data"])),[[O,k.value]]),c(l(H,{total:x.value,"current-page":n(s).pageNum,"onUpdate:currentPage":e[1]||(e[1]=a=>n(s).pageNum=a),"page-size":n(s).pageSize,"onUpdate:pageSize":e[2]||(e[2]=a=>n(s).pageSize=a),onPagination:b},null,8,["total","current-page","page-size"]),[[C,x.value>0]])]),l(J,{title:D.value,modelValue:p.value,"onUpdate:modelValue":e[8]||(e[8]=a=>p.value=a),width:"500px","append-to-body":""},{footer:t(()=>[V("div",re,[l(f,{type:"primary",onClick:F},{default:t(()=>e[14]||(e[14]=[v("确 定")])),_:1}),l(f,{onClick:A},{default:t(()=>e[15]||(e[15]=[v("取 消")])),_:1})])]),default:t(()=>[l(N,{ref:"dataRef",model:n(d),rules:n(E),"label-width":"80px"},{default:t(()=>[c(l(m,{label:"字典类型"},{default:t(()=>[l(r,{modelValue:n(d).dictType,"onUpdate:modelValue":e[3]||(e[3]=a=>n(d).dictType=a),disabled:!0},null,8,["modelValue"])]),_:1},512),[[C,!1]]),l(m,{label:"分类",prop:"dictLabel"},{default:t(()=>[l(r,{modelValue:n(d).dictLabel,"onUpdate:modelValue":e[4]||(e[4]=a=>n(d).dictLabel=a),placeholder:"请输入数据标签"},null,8,["modelValue"])]),_:1}),l(m,{label:"数据值",prop:"dictValue"},{default:t(()=>[l(r,{modelValue:n(d).dictValue,"onUpdate:modelValue":e[5]||(e[5]=a=>n(d).dictValue=a),placeholder:"请输入数据键值"},null,8,["modelValue"])]),_:1}),c(l(m,{label:"样式属性",prop:"cssClass"},{default:t(()=>[l(r,{modelValue:n(d).cssClass,"onUpdate:modelValue":e[6]||(e[6]=a=>n(d).cssClass=a),placeholder:"请输入样式属性"},null,8,["modelValue"])]),_:1},512),[[C,!1]]),l(m,{label:"备注",prop:"remark"},{default:t(()=>[l(r,{modelValue:n(d).remark,"onUpdate:modelValue":e[7]||(e[7]=a=>n(d).remark=a),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}}};export{ve as default};
