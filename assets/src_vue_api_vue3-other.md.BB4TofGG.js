import{_ as i,c as a,ag as p,o as n}from"./chunks/framework.Bft4-MjQ.js";const c=JSON.parse('{"title":"APIå…¶ä»–","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"src/vue/api/vue3-other.md","filePath":"src/vue/api/vue3-other.md"}'),t={name:"src/vue/api/vue3-other.md"};function e(h,s,l,k,r,d){return n(),a("div",null,s[0]||(s[0]=[p(`<h1 id="apiå…¶ä»–" tabindex="-1">APIå…¶ä»– <a class="header-anchor" href="#apiå…¶ä»–" aria-label="Permalink to &quot;APIå…¶ä»–&quot;">â€‹</a></h1><h2 id="ğŸ‘‰-createssrapp" tabindex="-1">ğŸ‘‰ createSSRApp() <a class="header-anchor" href="#ğŸ‘‰-createssrapp" aria-label="Permalink to &quot;ğŸ‘‰ createSSRApp()&quot;">â€‹</a></h2><p>å…ˆæ¥çœ‹çœ‹å®˜æ–¹ç»™æˆ‘ä»¬çš„ä»‹ç»</p><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ä»¥ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SSR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> æ¿€æ´»æ¨¡å¼åˆ›å»ºä¸€ä¸ªåº”ç”¨å®ä¾‹ã€‚ç”¨æ³•ä¸ </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() å®Œå…¨ç›¸åŒ</span></span></code></pre></div><p>SSRï¼šæœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼ŒServer-Side Renderingï¼‰</p><p><code>createSSRApp()</code>çš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªé€‚ç”¨äº SSR çš„ Vue åº”ç”¨å®ä¾‹ï¼Œé’ˆå¯¹æœåŠ¡ç«¯æ¸²æŸ“åšäº†ä¼˜åŒ–å’Œè°ƒæ•´ã€‚</p><p>åœ¨æœåŠ¡ç«¯æ¸²æŸ“æ¡†æ¶Nuxtä¹‹ä¸­å¸®æˆ‘ä»¬æ¸²æŸ“äº†SSR ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰<code>createSSRApp()</code>æ¸²æŸ“ ä¸»è¦é€šè¿‡è®¾ç½®<code>nuxt.config.ts</code>è¿™ä¸ªæ–‡ä»¶æ¥è¾¾æˆçš„</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•åœ¨<code>nuxt</code>ä¹‹ä¸­æ‰‹åŠ¨ä½¿ç”¨<code>createSSRApp()</code>æ¸²æŸ“ä¸€ä¸‹æˆ‘ä»¬çš„é¡¹ç›®</p><h3 id="ğŸ-è®¾ç½®æ‰‹åŠ¨ä½¿ç”¨createssrapp-æ¸²æŸ“" tabindex="-1">ğŸ è®¾ç½®æ‰‹åŠ¨ä½¿ç”¨<code>createSSRApp()</code>æ¸²æŸ“ <a class="header-anchor" href="#ğŸ-è®¾ç½®æ‰‹åŠ¨ä½¿ç”¨createssrapp-æ¸²æŸ“" aria-label="Permalink to &quot;ğŸ è®¾ç½®æ‰‹åŠ¨ä½¿ç”¨\`createSSRApp()\`æ¸²æŸ“&quot;">â€‹</a></h3><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰‹åŠ¨ä½¿ç”¨ createSSRApp() æ¸²æŸ“</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// src/plugins/ssrApp.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createSSRApp } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> App </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;~/components/App.vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;æˆ‘æ˜¯SSRæ¸²æŸ“å™¨&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰“å°ä¸€ä¸‹ï¼Œçœ‹çœ‹æ˜¯å¦æ‰§è¡Œäº† </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineNuxtPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">nuxtApp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createSSRApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(App)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  nuxtApp.vueApp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> app </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å°† Vue SSR åº”ç”¨å®ä¾‹ä¼ é€’ç»™ Nuxt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="ğŸ-è®¾ç½®nuxt-config-ts" tabindex="-1">ğŸ è®¾ç½®<code>nuxt.config.ts</code> <a class="header-anchor" href="#ğŸ-è®¾ç½®nuxt-config-ts" aria-label="Permalink to &quot;ğŸ è®¾ç½®\`nuxt.config.ts\`&quot;">â€‹</a></h3><p>æ¥ä¸‹æ¥è®¾ç½®æˆ‘ä»¬çš„nuxtä¸ºSSRæ¸²æŸ“æ¨¡å¼å¯åŠ¨</p><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ssr: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯ç”¨ SSR</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  target: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;server&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®¾ç½®ç›®æ ‡ç¯å¢ƒä¸ºæœåŠ¡å™¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;~/plugins/ssrApp.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ³¨å†Œä½ çš„ SSR æ’ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>é‡æ–°å¯åŠ¨ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å·²ç»å¯ä»¥çœ‹åˆ°é‡‡å–æˆ‘ä»¬è‡ªå·±æ¸²æŸ“çš„æ–¹å¼æˆåŠŸäº†</p><p>è¾“å‡ºä¸Šé¢æˆ‘ä»¬æ‰‹å†™çš„å†…å®¹éƒ¨åˆ†</p><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">æˆ‘æ˜¯SSRæ¸²æŸ“å™¨</span></span></code></pre></div><h3 id="ğŸæºç ä»¥åŠåŸç†" tabindex="-1">ğŸæºç ä»¥åŠåŸç† <a class="header-anchor" href="#ğŸæºç ä»¥åŠåŸç†" aria-label="Permalink to &quot;ğŸæºç ä»¥åŠåŸç†&quot;">â€‹</a></h3><p>Vue 3 çš„æ ¸å¿ƒåº“ä¸­<code>createSSRApp()</code>ä¸»è¦ç”¨äºæœåŠ¡ç«¯ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰çš„ä¼˜åŒ–å¤„ç†</p><p>å¤§è‡´æºç å¦‚ä¸‹ï¼ˆåˆ©ç”¨çš„ä¹Ÿæ˜¯<code>createApp()</code>ï¼‰ï¼š</p><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// vue/src/runtime-server/index.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createApp } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./createApp&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createSSRApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">rootComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ª SSR åº”ç”¨å®ä¾‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rootComponent)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åšä¸€äº›SSRä¸“ç”¨çš„å¤„ç†ï¼Œæ¯”å¦‚æœåŠ¡ç«¯æ¸²æŸ“ä¼˜åŒ–</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è¿™é‡Œå¯ä»¥æ·»åŠ ä¸€äº›å’ŒSSRç›¸å…³çš„åŠŸèƒ½</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> app</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>rootComponentå°±æ˜¯æˆ‘ä»¬çš„æ ¹ç»„ä»¶</p><p>æ¯”å¦‚åœ¨vue2ä¸­ç®€å•çš„ä¸€ä¸ªrootComponentæ ¹ç»„ä»¶å°±å¯ä»¥è¡¨è¾¾ä¸º(Appå°±æ˜¯é‚£ä¸ªæ ¹ç»„ä»¶)</p><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> App</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello, SSR!&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  template: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`&lt;div&gt;{{ message }}&lt;/div&gt;\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,23)]))}const g=i(t,[["render",e]]);export{c as __pageData,g as default};
