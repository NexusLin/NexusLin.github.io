import{r as s,f as ie,g as se,A as re,c as h,a as w,b as t,l as v,v as B,h as a,i as u,u as n,F as pe,d as ce,j as me,k as p,x as y,y as E,n as V,e as f}from"./index-B_mAkUH5.js";import{g as fe,o as ge}from"./dictType-DtMYnulG.js";import{g as ve,u as _e,a as be,l as ye}from"./dictData-CefU4asS.js";const Ve={class:"page-dictdata"},we={class:"bcbox"},ke={class:"bcbox"},Ce={class:"bcbox"},Te={class:"dialog-footer"},Pe={__name:"dictdata",setup(Se){const L=s([]),c=s(!1),k=s(!0),F=s(!0),U=s([]),A=s(!0),I=s(!0),C=s(0),T=s(""),K=s(""),P=s([]),N=re();s([{value:"default",label:"默认"},{value:"primary",label:"主要"},{value:"success",label:"成功"},{value:"info",label:"信息"},{value:"warning",label:"警告"},{value:"danger",label:"危险"}]);const Q=ie({form:{},queryParams:{pageNum:1,pageSize:10,dictType:void 0,dictLabel:void 0,status:void 0},rules:{dictLabel:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}),{queryParams:i,form:d,rules:$}=se(Q);function j(o){fe(o).then(e=>{i.value.dictType=e.data.dictType,K.value=e.data.dictType,_()})}function M(){ge().then(o=>{P.value=o.data})}function _(){k.value=!0,ye(i.value).then(o=>{L.value=o.data,C.value=o.total,k.value=!1})}function O(){c.value=!1,S()}function S(){d.value={dictCode:void 0,dictLabel:void 0,dictValue:void 0,cssClass:void 0,listClass:"default",dictSort:0,status:"0",remark:void 0}}function q(){i.value.pageNum=1,_()}function G(){}function H(){S(),c.value=!0,T.value="添加字典数据",d.value.dictType=i.value.dictType}function J(o){U.value=o.map(e=>e.dictCode),A.value=o.length!=1,I.value=!o.length}function W(o){S();const e=o.dictCode||U.value;ve(e).then(x=>{d.value=x.data,c.value=!0,T.value="修改字典数据"})}const X=async()=>{try{if(d.value.dictCode!=null){const o=await _e(d.value);o.code==200?(V.success(o.message),c.value=!1,_()):V.error(o.message)}else{const o=await be(d.value);o.code==200?(V.success(o.message),c.value=!1,_()):V.error(o.message)}}catch{V.error("操作失败")}};function xe(o){}return j(N.params&&N.params.dictId),M(),(o,e)=>{const x=u("el-option"),Y=u("el-select"),r=u("el-form-item"),b=u("el-input"),m=u("el-button"),z=u("el-form"),Z=u("el-col"),ee=u("el-row"),g=u("el-table-column"),te=u("el-table"),le=u("Pagination"),ae=u("el-input-number"),R=u("el-radio"),oe=u("el-radio-group"),ne=u("el-dialog"),D=E("hasPermi"),de=E("loading");return f(),h("div",Ve,[w("div",we,[v(t(z,{model:n(i),ref:"queryRef",inline:!0},{default:a(()=>[t(r,{label:"字典名称",prop:"dictType"},{default:a(()=>[t(Y,{modelValue:n(i).dictType,"onUpdate:modelValue":e[0]||(e[0]=l=>n(i).dictType=l),style:{width:"200px"}},{default:a(()=>[(f(!0),h(pe,null,ce(P.value,l=>(f(),y(x,{key:l.dictId,label:l.dictName,value:l.dictType},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"字典标签",prop:"dictLabel"},{default:a(()=>[t(b,{modelValue:n(i).dictLabel,"onUpdate:modelValue":e[1]||(e[1]=l=>n(i).dictLabel=l),placeholder:"请输入字典标签",clearable:"",style:{width:"200px"},onKeyup:me(q,["enter"])},null,8,["modelValue"])]),_:1}),t(r,null,{default:a(()=>[t(m,{type:"primary",icon:"Search",onClick:q},{default:a(()=>e[11]||(e[11]=[p("搜索")])),_:1}),t(m,{icon:"Refresh",onClick:G},{default:a(()=>e[12]||(e[12]=[p("重置")])),_:1})]),_:1})]),_:1},8,["model"]),[[B,F.value]])]),w("div",ke,[t(ee,{gutter:10,class:"mb8"},{default:a(()=>[t(Z,{span:1.5},{default:a(()=>[v((f(),y(m,{type:"primary",plain:"",icon:"Plus",onClick:H},{default:a(()=>e[13]||(e[13]=[p("新增")])),_:1})),[[D,["system:dict:add"]]])]),_:1})]),_:1})]),w("div",Ce,[v((f(),y(te,{data:L.value,onSelectionChange:J},{default:a(()=>[t(g,{type:"selection",width:"55",align:"center"}),t(g,{label:"字典编码",align:"center",prop:"dictCode"}),t(g,{label:"字典键值",align:"center",prop:"dictValue"}),t(g,{label:"字典排序",align:"center",prop:"dictSort"}),t(g,{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}),t(g,{label:"操作",align:"center",width:"160","class-name":"small-padding fixed-width"},{default:a(l=>[v((f(),y(m,{link:"",type:"primary",icon:"Edit",onClick:ue=>W(l.row)},{default:a(()=>e[14]||(e[14]=[p("修改")])),_:2},1032,["onClick"])),[[D,["system:dict:edit"]]]),v((f(),y(m,{link:"",type:"primary",icon:"Delete",onClick:ue=>(l.row,void 0)},{default:a(()=>e[15]||(e[15]=[p("删除")])),_:2},1032,["onClick"])),[[D,["system:dict:remove"]]])]),_:1})]),_:1},8,["data"])),[[de,k.value]]),v(t(le,{total:C.value,"current-page":n(i).pageNum,"onUpdate:currentPage":e[2]||(e[2]=l=>n(i).pageNum=l),"page-size":n(i).pageSize,"onUpdate:pageSize":e[3]||(e[3]=l=>n(i).pageSize=l),onPagination:_},null,8,["total","current-page","page-size"]),[[B,C.value>0]])]),t(ne,{title:T.value,modelValue:c.value,"onUpdate:modelValue":e[10]||(e[10]=l=>c.value=l),width:"500px","append-to-body":""},{footer:a(()=>[w("div",Te,[t(m,{type:"primary",onClick:X},{default:a(()=>e[18]||(e[18]=[p("确 定")])),_:1}),t(m,{onClick:O},{default:a(()=>e[19]||(e[19]=[p("取 消")])),_:1})])]),default:a(()=>[t(z,{ref:"dataRef",model:n(d),rules:n($),"label-width":"80px"},{default:a(()=>[t(r,{label:"字典类型"},{default:a(()=>[t(b,{modelValue:n(d).dictType,"onUpdate:modelValue":e[4]||(e[4]=l=>n(d).dictType=l),disabled:!0},null,8,["modelValue"])]),_:1}),t(r,{label:"数据标签",prop:"dictLabel"},{default:a(()=>[t(b,{modelValue:n(d).dictLabel,"onUpdate:modelValue":e[5]||(e[5]=l=>n(d).dictLabel=l),placeholder:"请输入数据标签"},null,8,["modelValue"])]),_:1}),t(r,{label:"数据键值",prop:"dictValue"},{default:a(()=>[t(b,{modelValue:n(d).dictValue,"onUpdate:modelValue":e[6]||(e[6]=l=>n(d).dictValue=l),placeholder:"请输入数据键值"},null,8,["modelValue"])]),_:1}),t(r,{label:"显示排序",prop:"dictSort"},{default:a(()=>[t(ae,{modelValue:n(d).dictSort,"onUpdate:modelValue":e[7]||(e[7]=l=>n(d).dictSort=l),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1}),t(r,{label:"状态",prop:"status"},{default:a(()=>[t(oe,{modelValue:n(d).status,"onUpdate:modelValue":e[8]||(e[8]=l=>n(d).status=l)},{default:a(()=>[t(R,{value:"0"},{default:a(()=>e[16]||(e[16]=[p("正常")])),_:1}),t(R,{value:"1"},{default:a(()=>e[17]||(e[17]=[p("停用")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"备注",prop:"remark"},{default:a(()=>[t(b,{modelValue:n(d).remark,"onUpdate:modelValue":e[9]||(e[9]=l=>n(d).remark=l),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}}};export{Pe as default};
